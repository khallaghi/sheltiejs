'use strict';

module.exports.getSpec = function (manifest) {
  const group = manifest.spec.group;
  const version = manifest.spec.version;
  const name = manifest.spec.names.plural;

  const templatePath = `/apis/${ group }/${ version }/namespaces/{namespace}/${ name }/{name}`;
  const templateOperations = ['delete', 'get', 'patch', 'post', 'put'].reduce((acc, method) => {
    acc[method] = {
      operationId: `${ method }${ name }`
    };
    return acc;
  }, {});

  const path = `/apis/${ group }/${ version }/namespaces/{namespace}/${ name }`;
  const operations = {
    get: {
      operationId: `list${ name }`
    }
  };

  return {
    paths: {
      [path]: operations,
      [templatePath]: templateOperations
    }
  };
};
